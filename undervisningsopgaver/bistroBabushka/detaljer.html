<!DOCTYPE html>
<html lang="">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://use.typekit.net/bmz6sqo.css">
    <link rel="stylesheet" href="https://use.typekit.net/bmz6sqo.css">
    <title>Detajler</title>
</head>

<style>
    img {
        width: 100%;
    }

    h3 {
        font-family: beloved-script, sans-serif;
        letter-spacing: 3px;
        color: #FF9300;
        display: grid;
        grid-template-columns: 1fr;
        margin-top: 1rem;
        text-align: center;
        font-size: 2rem;
    }

    p {
        font-family: basic-sans, sans-serif;
        font-style: normal;
        font-weight: 100;
    }

    article .ret {
        padding: 1em;
        overflow: hidden;
        display: block;
        font-family: sans-serif;
        font-size: 1.2rem;
        text-align: center;
        margin-top: 5rem;

    }

    .top img {
        float: left;
        width: 6%;
        margin: 0 0 0 15px;
        position: relative;
        top: 10px;
        left: 10px;
    }

    .ret button {
        font-family: beloved-sans, sans-serif;
        font-weight: 200;
        font-style: normal;
        border: 1px lightgrey;
        margin: 1rem;
        color: black;
        border: none;
        font-size: 1rem;
    }

    @media screen and (min-width: 550px) {

        .ret {
            display: grid;
            grid-template-columns: 1fr;

        }

        .top img {
            float: left;
            width: 9%;
            margin: 0 0 0 15px;
            position: relative;
            top: 10px;
            left: 10px;
        }

        article .ret {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            grid-gap: 3em;
            margin: 5em;
        }

    }
</style>


<body>

    <nav class="top">
        <a href="babushkaKopiVirk.html"><img src="nybabushkaLogo.png" alt="logo" class="logo"></a>

    </nav>

    <article class="ret">
        <h3 class="navn"></h3>
        <p class="langbeskrivelse">Lang beskrivelse</p>
        <p class="pris">Pris:</p>
        <p class="oprindelsesregion">Oprindelse:</p>
        <img src="" alt="" class="billeder">
        <button>Tilbage</button>

    </article>

</body></html>


<script>
    const urlParams = new URLSearchParams(window.location.search);
    const id = urlParams.get("id");

    const medieurl = "https://babushka-dd8a.restdb.io/media/";
    let ret;
    const myHeaders = {

        "x-apikey": "600ec2fb1346a1524ff12de4"
    }
    console.log("ID", id);
    document.addEventListener("DOMContentLoaded", loadJSON);

    async function loadJSON() {
        const JSONData = await fetch(`https://babushka-dd8a.restdb.io/rest/menu/${id}`, {
            headers: myHeaders
        });

        ret = await JSONData.json();

        console.log("Retter", ret);
        visRet(ret);

    }

    function visRet() {
        document.querySelector(".navn").textContent = ret.navn;
        //        document.querySelector(".kortbeskrivelse").textContent = ret.kortbeskrivelse;
        document.querySelector(".langbeskrivelse").textContent = ret.langbeskrivelse;
        document.querySelector(".oprindelsesregion").textContent += `${ret.oprindelsesregion}`;
        document.querySelector(".pris").textContent += `${ret.pris}kr`;
        document.querySelector(".billeder").src = medieurl + ret.billede;
        document.querySelector("button").addEventListener("click", tilbageTilBistroBabushka);
    }

    function tilbageTilBistroBabushka() {
        history.back();
    }

</script>
